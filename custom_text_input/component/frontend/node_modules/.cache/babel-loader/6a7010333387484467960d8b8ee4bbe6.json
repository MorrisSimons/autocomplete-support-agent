{"ast":null,"code":"\"use strict\";\n\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InvalidWebhookSignatureError = exports.ContentFilterFinishReasonError = exports.LengthFinishReasonError = exports.InternalServerError = exports.RateLimitError = exports.UnprocessableEntityError = exports.ConflictError = exports.NotFoundError = exports.PermissionDeniedError = exports.AuthenticationError = exports.BadRequestError = exports.APIConnectionTimeoutError = exports.APIConnectionError = exports.APIUserAbortError = exports.APIError = exports.OpenAIError = void 0;\nconst errors_1 = require(\"../internal/errors.js\");\nclass OpenAIError extends Error {}\nexports.OpenAIError = OpenAIError;\nclass APIError extends OpenAIError {\n  constructor(status, error, message, headers) {\n    super(\"\".concat(APIError.makeMessage(status, error, message)));\n    this.status = status;\n    this.headers = headers;\n    this.requestID = headers === null || headers === void 0 ? void 0 : headers.get('x-request-id');\n    this.error = error;\n    const data = error;\n    this.code = data === null || data === void 0 ? void 0 : data['code'];\n    this.param = data === null || data === void 0 ? void 0 : data['param'];\n    this.type = data === null || data === void 0 ? void 0 : data['type'];\n  }\n  static makeMessage(status, error, message) {\n    const msg = (error === null || error === void 0 ? void 0 : error.message) ? typeof error.message === 'string' ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;\n    if (status && msg) {\n      return \"\".concat(status, \" \").concat(msg);\n    }\n    if (status) {\n      return \"\".concat(status, \" status code (no body)\");\n    }\n    if (msg) {\n      return msg;\n    }\n    return '(no status code or body)';\n  }\n  static generate(status, errorResponse, message, headers) {\n    if (!status || !headers) {\n      return new APIConnectionError({\n        message,\n        cause: (0, errors_1.castToError)(errorResponse)\n      });\n    }\n    const error = errorResponse === null || errorResponse === void 0 ? void 0 : errorResponse['error'];\n    if (status === 400) {\n      return new BadRequestError(status, error, message, headers);\n    }\n    if (status === 401) {\n      return new AuthenticationError(status, error, message, headers);\n    }\n    if (status === 403) {\n      return new PermissionDeniedError(status, error, message, headers);\n    }\n    if (status === 404) {\n      return new NotFoundError(status, error, message, headers);\n    }\n    if (status === 409) {\n      return new ConflictError(status, error, message, headers);\n    }\n    if (status === 422) {\n      return new UnprocessableEntityError(status, error, message, headers);\n    }\n    if (status === 429) {\n      return new RateLimitError(status, error, message, headers);\n    }\n    if (status >= 500) {\n      return new InternalServerError(status, error, message, headers);\n    }\n    return new APIError(status, error, message, headers);\n  }\n}\nexports.APIError = APIError;\nclass APIUserAbortError extends APIError {\n  constructor() {\n    let {\n      message\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(undefined, undefined, message || 'Request was aborted.', undefined);\n  }\n}\nexports.APIUserAbortError = APIUserAbortError;\nclass APIConnectionError extends APIError {\n  constructor(_ref) {\n    let {\n      message,\n      cause\n    } = _ref;\n    super(undefined, undefined, message || 'Connection error.', undefined);\n    // in some environments the 'cause' property is already declared\n    // @ts-ignore\n    if (cause) this.cause = cause;\n  }\n}\nexports.APIConnectionError = APIConnectionError;\nclass APIConnectionTimeoutError extends APIConnectionError {\n  constructor() {\n    let {\n      message\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super({\n      message: message !== null && message !== void 0 ? message : 'Request timed out.'\n    });\n  }\n}\nexports.APIConnectionTimeoutError = APIConnectionTimeoutError;\nclass BadRequestError extends APIError {}\nexports.BadRequestError = BadRequestError;\nclass AuthenticationError extends APIError {}\nexports.AuthenticationError = AuthenticationError;\nclass PermissionDeniedError extends APIError {}\nexports.PermissionDeniedError = PermissionDeniedError;\nclass NotFoundError extends APIError {}\nexports.NotFoundError = NotFoundError;\nclass ConflictError extends APIError {}\nexports.ConflictError = ConflictError;\nclass UnprocessableEntityError extends APIError {}\nexports.UnprocessableEntityError = UnprocessableEntityError;\nclass RateLimitError extends APIError {}\nexports.RateLimitError = RateLimitError;\nclass InternalServerError extends APIError {}\nexports.InternalServerError = InternalServerError;\nclass LengthFinishReasonError extends OpenAIError {\n  constructor() {\n    super(\"Could not parse response content as the length limit was reached\");\n  }\n}\nexports.LengthFinishReasonError = LengthFinishReasonError;\nclass ContentFilterFinishReasonError extends OpenAIError {\n  constructor() {\n    super(\"Could not parse response content as the request was rejected by the content filter\");\n  }\n}\nexports.ContentFilterFinishReasonError = ContentFilterFinishReasonError;\nclass InvalidWebhookSignatureError extends Error {\n  constructor(message) {\n    super(message);\n  }\n}\nexports.InvalidWebhookSignatureError = InvalidWebhookSignatureError;","map":{"version":3,"mappings":"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","names":["OpenAIError","Error","exports","APIError","constructor","status","error","message","headers","makeMessage","requestID","get","data","code","param","type","msg","JSON","stringify","generate","errorResponse","APIConnectionError","cause","BadRequestError","AuthenticationError","PermissionDeniedError","NotFoundError","ConflictError","UnprocessableEntityError","RateLimitError","InternalServerError","APIUserAbortError","undefined","APIConnectionTimeoutError","LengthFinishReasonError","ContentFilterFinishReasonError","InvalidWebhookSignatureError"],"sourceRoot":"","sources":["../src/core/error.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}