{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"/home/morrissimons/Desktop/lysa-support-agent/custom_text_input/component/frontend/node_modules/@babel/runtime/helpers/objectSpread2\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FetchCommand = void 0;\nconst errors_1 = require(\"../../errors\");\nclass FetchCommand {\n  constructor(apiProvider, namespace) {\n    this.validator = options => {\n      if (options.length === 0) {\n        throw new errors_1.PineconeArgumentError('Must pass in at least 1 recordID.');\n      }\n    };\n    this.apiProvider = apiProvider;\n    this.namespace = namespace;\n  }\n  async run(ids) {\n    this.validator(ids);\n    const api = await this.apiProvider.provide();\n    const response = await api.fetchVectors({\n      ids: ids,\n      namespace: this.namespace\n    });\n    // My testing shows that in reality vectors and namespace are\n    // never undefined even when there are no records returned. So these\n    // default values are needed only to satisfy the typescript compiler.\n    return _objectSpread({\n      records: response.vectors ? response.vectors : {},\n      namespace: response.namespace ? response.namespace : ''\n    }, response.usage && {\n      usage: response.usage\n    });\n  }\n}\nexports.FetchCommand = FetchCommand;","map":{"version":3,"mappings":";;;;;;;AAOA;AAsBA,MAAaA,YAAY;EAIvBC,YAAYC,WAAW,EAAEC,SAAS;IAKlC,cAAS,GAAIC,OAAqB,IAAI;MACpC,IAAIA,OAAO,CAACC,MAAM,KAAK,CAAC,EAAE;QACxB,MAAM,IAAIC,8BAAqB,CAAC,mCAAmC,CAAC;;IAExE,CAAC;IARC,IAAI,CAACJ,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACC,SAAS,GAAGA,SAAS;EAC5B;EAQA,MAAMI,GAAG,CAACC,GAAiB;IACzB,IAAI,CAACC,SAAS,CAACD,GAAG,CAAC;IACnB,MAAME,GAAG,GAAG,MAAM,IAAI,CAACR,WAAW,CAACS,OAAO,EAAE;IAC5C,MAAMC,QAAQ,GAAG,MAAMF,GAAG,CAACG,YAAY,CAAC;MACtCL,GAAG,EAAEA,GAAG;MACRL,SAAS,EAAE,IAAI,CAACA;KACjB,CAAC;IAEF;IACA;IACA;IACA;MACEW,OAAO,EAAEF,QAAQ,CAACG,OAAO,GAAGH,QAAQ,CAACG,OAAO,GAAG,EAAE;MACjDZ,SAAS,EAAES,QAAQ,CAACT,SAAS,GAAGS,QAAQ,CAACT,SAAS,GAAG;IAAE,GACnDS,QAAQ,CAACI,KAAK,IAAI;MAAEA,KAAK,EAAEJ,QAAQ,CAACI;IAAK,CAAE;EAEnD;;AA/BFC","names":["FetchCommand","constructor","apiProvider","namespace","options","length","errors_1","run","ids","validator","api","provide","response","fetchVectors","records","vectors","usage","exports"],"sourceRoot":"","sources":["../../../src/data/vectors/fetch.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}