{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"/home/morrissimons/Desktop/lysa-support-agent/custom_text_input/component/frontend/node_modules/@babel/runtime/helpers/objectSpread2\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.describeIndexStats = void 0;\nconst errors_1 = require(\"../../errors\");\nconst validateObjectProperties_1 = require(\"../../utils/validateObjectProperties\");\nconst describeIndexStats = apiProvider => {\n  const validator = options => {\n    if (options) {\n      (0, validateObjectProperties_1.ValidateObjectProperties)(options, ['filter']);\n    }\n    const map = options['filter'];\n    for (const key in map) {\n      if (!map[key]) {\n        throw new errors_1.PineconeArgumentError(\"`filter` property cannot be empty for \".concat(key));\n      }\n    }\n  };\n  return async options => {\n    if (options) {\n      validator(options);\n    }\n    const api = await apiProvider.provide();\n    const results = await api.describeIndexStats({\n      describeIndexStatsRequest: _objectSpread({}, options)\n    });\n    const mappedResult = {\n      namespaces: {},\n      dimension: results.dimension,\n      indexFullness: results.indexFullness,\n      totalRecordCount: results.totalVectorCount\n    };\n    if (results.namespaces) {\n      for (const key in results.namespaces) {\n        mappedResult.namespaces[key] = {\n          recordCount: results.namespaces[key].vectorCount\n        };\n      }\n    }\n    return mappedResult;\n  };\n};\nexports.describeIndexStats = describeIndexStats;","map":{"version":3,"mappings":";;;;;;;AACA;AACA;AAoDO,MAAMA,kBAAkB,GAAIC,WAAqC,IAAI;EAC1E,MAAMC,SAAS,GAAIC,OAAkC,IAAI;IACvD,IAAIA,OAAO,EAAE;MACX,uDAAwB,EAACA,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC;;IAE/C,MAAMC,GAAG,GAAGD,OAAO,CAAC,QAAQ,CAAC;IAC7B,KAAK,MAAME,GAAG,IAAID,GAAG,EAAE;MACrB,IAAI,CAACA,GAAG,CAACC,GAAG,CAAC,EAAE;QACb,MAAM,IAAIC,8BAAqB,iDACcD,GAAG,EAC/C;;;EAGP,CAAC;EAED,OAAO,MACLF,OAAmC,IACD;IAClC,IAAIA,OAAO,EAAE;MACXD,SAAS,CAACC,OAAO,CAAC;;IAGpB,MAAMI,GAAG,GAAG,MAAMN,WAAW,CAACO,OAAO,EAAE;IACvC,MAAMC,OAAO,GAAG,MAAMF,GAAG,CAACP,kBAAkB,CAAC;MAC3CU,yBAAyB,oBAAOP,OAAO;KACxC,CAAC;IAEF,MAAMQ,YAAY,GAAG;MACnBC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAEJ,OAAO,CAACI,SAAS;MAC5BC,aAAa,EAAEL,OAAO,CAACK,aAAa;MACpCC,gBAAgB,EAAEN,OAAO,CAACO;KAC3B;IACD,IAAIP,OAAO,CAACG,UAAU,EAAE;MACtB,KAAK,MAAMP,GAAG,IAAII,OAAO,CAACG,UAAU,EAAE;QACpCD,YAAY,CAACC,UAAU,CAACP,GAAG,CAAC,GAAG;UAC7BY,WAAW,EAAER,OAAO,CAACG,UAAU,CAACP,GAAG,CAAC,CAACa;SACtC;;;IAIL,OAAOP,YAAY;EACrB,CAAC;AACH,CAAC;AA3CYQ,0BAAkB","names":["describeIndexStats","apiProvider","validator","options","map","key","errors_1","api","provide","results","describeIndexStatsRequest","mappedResult","namespaces","dimension","indexFullness","totalRecordCount","totalVectorCount","recordCount","vectorCount","exports"],"sourceRoot":"","sources":["../../../src/data/vectors/describeIndexStats.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}