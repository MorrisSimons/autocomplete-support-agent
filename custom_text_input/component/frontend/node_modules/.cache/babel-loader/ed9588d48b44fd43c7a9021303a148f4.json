{"ast":null,"code":"\"use strict\";\n\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _taggedTemplateLiteral = require(\"/home/morrissimons/Desktop/lysa-support-agent/custom_text_input/component/frontend/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\nvar _objectSpread = require(\"/home/morrissimons/Desktop/lysa-support-agent/custom_text_input/component/frontend/node_modules/@babel/runtime/helpers/objectSpread2\");\nvar _templateObject, _templateObject2, _templateObject3;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Files = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst pagination_1 = require(\"../core/pagination.js\");\nconst headers_1 = require(\"../internal/headers.js\");\nconst sleep_1 = require(\"../internal/utils/sleep.js\");\nconst error_1 = require(\"../error.js\");\nconst uploads_1 = require(\"../internal/uploads.js\");\nconst path_1 = require(\"../internal/utils/path.js\");\nclass Files extends resource_1.APIResource {\n  /**\n   * Upload a file that can be used across various endpoints. Individual files can be\n   * up to 512 MB, and the size of all files uploaded by one organization can be up\n   * to 1 TB.\n   *\n   * The Assistants API supports files up to 2 million tokens and of specific file\n   * types. See the\n   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\n   * details.\n   *\n   * The Fine-tuning API only supports `.jsonl` files. The input also has certain\n   * required formats for fine-tuning\n   * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\n   * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\n   * models.\n   *\n   * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also\n   * has a specific required\n   * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\n   *\n   * Please [contact us](https://help.openai.com/) if you need to increase these\n   * storage limits.\n   */\n  create(body, options) {\n    return this._client.post('/files', (0, uploads_1.multipartFormRequestOptions)(_objectSpread({\n      body\n    }, options), this._client));\n  }\n  /**\n   * Returns information about a specific file.\n   */\n  retrieve(fileID, options) {\n    return this._client.get((0, path_1.path)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"/files/\", \"\"])), fileID), options);\n  }\n  /**\n   * Returns a list of files.\n   */\n  list() {\n    let query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let options = arguments.length > 1 ? arguments[1] : undefined;\n    return this._client.getAPIList('/files', pagination_1.CursorPage, _objectSpread({\n      query\n    }, options));\n  }\n  /**\n   * Delete a file.\n   */\n  delete(fileID, options) {\n    return this._client.delete((0, path_1.path)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"/files/\", \"\"])), fileID), options);\n  }\n  /**\n   * Returns the contents of the specified file.\n   */\n  content(fileID, options) {\n    return this._client.get((0, path_1.path)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"/files/\", \"/content\"])), fileID), _objectSpread(_objectSpread({}, options), {}, {\n      headers: (0, headers_1.buildHeaders)([{\n        Accept: 'application/binary'\n      }, options === null || options === void 0 ? void 0 : options.headers]),\n      __binaryResponse: true\n    }));\n  }\n  /**\n   * Waits for the given file to be processed, default timeout is 30 mins.\n   */\n  async waitForProcessing(id) {\n    let {\n      pollInterval = 5000,\n      maxWait = 30 * 60 * 1000\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n    const start = Date.now();\n    let file = await this.retrieve(id);\n    while (!file.status || !TERMINAL_STATES.has(file.status)) {\n      await (0, sleep_1.sleep)(pollInterval);\n      file = await this.retrieve(id);\n      if (Date.now() - start > maxWait) {\n        throw new error_1.APIConnectionTimeoutError({\n          message: \"Giving up on waiting for file \".concat(id, \" to finish processing after \").concat(maxWait, \" milliseconds.\")\n        });\n      }\n    }\n    return file;\n  }\n}\nexports.Files = Files;","map":{"version":3,"mappings":";;AAAA;AAAA;AAAA;AAAA;;;;;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA,MAAaA,KAAM,SAAQC,sBAAW;EACpC;;;;;;;;;;;;;;;;;;;;;;;EAuBAC,MAAM,CAACC,IAAsB,EAAEC,OAAwB;IACrD,OAAO,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,EAAE,yCAA2B;MAAGH;IAAI,GAAKC,OAAO,GAAI,IAAI,CAACC,OAAO,CAAC,CAAC;EACrG;EAEA;;;EAGAE,QAAQ,CAACC,MAAc,EAAEJ,OAAwB;IAC/C,OAAO,IAAI,CAACC,OAAO,CAACI,GAAG,EAAC,cAAI,kFAAUD,MAAM,GAAIJ,OAAO,CAAC;EAC1D;EAEA;;;EAGAM,IAAI,GAEsB;IAAA,IADxBC,4EAA2C,EAAE;IAAA,IAC7CP,OAAwB;IAExB,OAAO,IAAI,CAACC,OAAO,CAACO,UAAU,CAAC,QAAQ,EAAEC,uBAAsB;MAAIF;IAAK,GAAKP,OAAO,EAAG;EACzF;EAEA;;;EAGAU,MAAM,CAACN,MAAc,EAAEJ,OAAwB;IAC7C,OAAO,IAAI,CAACC,OAAO,CAACS,MAAM,EAAC,cAAI,oFAAUN,MAAM,GAAIJ,OAAO,CAAC;EAC7D;EAEA;;;EAGAW,OAAO,CAACP,MAAc,EAAEJ,OAAwB;IAC9C,OAAO,IAAI,CAACC,OAAO,CAACI,GAAG,EAAC,cAAI,4FAAUD,MAAM,mCACvCJ,OAAO;MACVY,OAAO,EAAE,0BAAY,EAAC,CAAC;QAAEC,MAAM,EAAE;MAAoB,CAAE,EAAEb,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEY,OAAO,CAAC,CAAC;MAC3EE,gBAAgB,EAAE;IAAI,GACtB;EACJ;EAEA;;;EAGA,MAAMC,iBAAiB,CACrBC,EAAU,EACyF;IAAA,IAAnG;MAAEC,YAAY,GAAG,IAAI;MAAEC,OAAO,GAAG,EAAE,GAAG,EAAE,GAAG;IAAI,wEAAkD,EAAE;IAEnG,MAAMC,eAAe,GAAG,IAAIC,GAAG,CAAC,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;IAElE,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE;IACxB,IAAIC,IAAI,GAAG,MAAM,IAAI,CAACrB,QAAQ,CAACa,EAAE,CAAC;IAElC,OAAO,CAACQ,IAAI,CAACC,MAAM,IAAI,CAACN,eAAe,CAACO,GAAG,CAACF,IAAI,CAACC,MAAM,CAAC,EAAE;MACxD,MAAM,iBAAK,EAACR,YAAY,CAAC;MAEzBO,IAAI,GAAG,MAAM,IAAI,CAACrB,QAAQ,CAACa,EAAE,CAAC;MAC9B,IAAIM,IAAI,CAACC,GAAG,EAAE,GAAGF,KAAK,GAAGH,OAAO,EAAE;QAChC,MAAM,IAAIS,iCAAyB,CAAC;UAClCC,OAAO,0CAAmCZ,EAAE,yCAA+BE,OAAO;SACnF,CAAC;MACJ;IACF;IAEA,OAAOM,IAAI;EACb;;AAvFFK","names":["Files","resource_1","create","body","options","_client","post","retrieve","fileID","get","list","query","getAPIList","pagination_1","delete","content","headers","Accept","__binaryResponse","waitForProcessing","id","pollInterval","maxWait","TERMINAL_STATES","Set","start","Date","now","file","status","has","error_1","message","exports"],"sourceRoot":"","sources":["../src/resources/files.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}