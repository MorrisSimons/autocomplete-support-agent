{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SearchRecordsCommand = void 0;\nconst errors_1 = require(\"../../errors\");\nconst utils_1 = require(\"../../utils\");\nclass SearchRecordsCommand {\n  constructor(apiProvider, namespace) {\n    this.validator = options => {\n      if (!options.query) {\n        throw new errors_1.PineconeArgumentError('You must pass a `query` object to search.');\n      }\n    };\n    this.apiProvider = apiProvider;\n    this.namespace = namespace;\n  }\n  async run(searchOptions, maxRetries) {\n    this.validator(searchOptions);\n    const api = await this.apiProvider.provide();\n    const retryWrapper = new utils_1.RetryOnServerFailure(api.searchRecordsNamespace.bind(api), maxRetries);\n    return await retryWrapper.execute({\n      searchRecordsRequest: searchOptions,\n      namespace: this.namespace\n    });\n  }\n}\nexports.SearchRecordsCommand = SearchRecordsCommand;","map":{"version":3,"mappings":";;;;;;AACA;AACA;AA4FA,MAAaA,oBAAoB;EAI/BC,YAAYC,WAAW,EAAEC,SAAS;IAKlC,cAAS,GAAIC,OAA6B,IAAI;MAC5C,IAAI,CAACA,OAAO,CAACC,KAAK,EAAE;QAClB,MAAM,IAAIC,8BAAqB,CAC7B,2CAA2C,CAC5C;;IAEL,CAAC;IAVC,IAAI,CAACJ,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACC,SAAS,GAAGA,SAAS;EAC5B;EAUA,MAAMI,GAAG,CACPC,aAAmC,EACnCC,UAAmB;IAEnB,IAAI,CAACC,SAAS,CAACF,aAAa,CAAC;IAE7B,MAAMG,GAAG,GAAG,MAAM,IAAI,CAACT,WAAW,CAACU,OAAO,EAAE;IAE5C,MAAMC,YAAY,GAAG,IAAIC,4BAAoB,CAC3CH,GAAG,CAACI,sBAAsB,CAACC,IAAI,CAACL,GAAG,CAAC,EACpCF,UAAU,CACX;IAED,OAAO,MAAMI,YAAY,CAACI,OAAO,CAAC;MAChCC,oBAAoB,EAAEV,aAAa;MACnCL,SAAS,EAAE,IAAI,CAACA;KACjB,CAAC;EACJ;;AAlCFgB","names":["SearchRecordsCommand","constructor","apiProvider","namespace","options","query","errors_1","run","searchOptions","maxRetries","validator","api","provide","retryWrapper","utils_1","searchRecordsNamespace","bind","execute","searchRecordsRequest","exports"],"sourceRoot":"","sources":["../../../src/data/vectors/searchRecords.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}