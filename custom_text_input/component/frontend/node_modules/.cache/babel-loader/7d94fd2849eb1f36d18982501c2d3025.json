{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StartImportCommand = void 0;\nconst db_data_1 = require(\"../../pinecone-generated-ts-fetch/db_data\");\nconst errors_1 = require(\"../../errors\");\nclass StartImportCommand {\n  constructor(apiProvider, namespace) {\n    this.apiProvider = apiProvider;\n    this.namespace = namespace;\n  }\n  async run(uri, errorMode, integrationId) {\n    if (!uri) {\n      throw new errors_1.PineconeArgumentError('`uri` field is required and must start with the scheme of a supported storage provider.');\n    }\n    let error = db_data_1.ImportErrorModeOnErrorEnum.Continue;\n    if (errorMode) {\n      if (errorMode.toLowerCase() !== 'continue' && errorMode.toLowerCase() !== 'abort') {\n        throw new errors_1.PineconeArgumentError('`errorMode` must be one of \"Continue\" or \"Abort\"');\n      }\n      if ((errorMode === null || errorMode === void 0 ? void 0 : errorMode.toLowerCase()) == 'abort') {\n        error = db_data_1.ImportErrorModeOnErrorEnum.Abort;\n      }\n    }\n    const req = {\n      startImportRequest: {\n        uri: uri,\n        errorMode: {\n          onError: error\n        },\n        integrationId: integrationId\n      }\n    };\n    const api = await this.apiProvider.provide();\n    return await api.startBulkImport(req);\n  }\n}\nexports.StartImportCommand = StartImportCommand;","map":{"version":3,"mappings":";;;;;;AACA;AAKA;AAEA,MAAaA,kBAAkB;EAI7BC,YAAYC,WAAmC,EAAEC,SAAiB;IAChE,IAAI,CAACD,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACC,SAAS,GAAGA,SAAS;EAC5B;EAEA,MAAMC,GAAG,CACPC,GAAW,EACXC,SAA8B,EAC9BC,aAAkC;IAElC,IAAI,CAACF,GAAG,EAAE;MACR,MAAM,IAAIG,8BAAqB,CAC7B,yFAAyF,CAC1F;;IAGH,IAAIC,KAAK,GAA+BC,oCAA0B,CAACC,QAAQ;IAE3E,IAAIL,SAAS,EAAE;MACb,IACEA,SAAS,CAACM,WAAW,EAAE,KAAK,UAAU,IACtCN,SAAS,CAACM,WAAW,EAAE,KAAK,OAAO,EACnC;QACA,MAAM,IAAIJ,8BAAqB,CAC7B,kDAAkD,CACnD;;MAEH,IAAI,UAAS,aAATF,SAAS,uBAATA,SAAS,CAAEM,WAAW,EAAE,KAAI,OAAO,EAAE;QACvCH,KAAK,GAAGC,oCAA0B,CAACG,KAAK;;;IAI5C,MAAMC,GAAG,GAA2B;MAClCC,kBAAkB,EAAE;QAClBV,GAAG,EAAEA,GAAG;QACRC,SAAS,EAAE;UAAEU,OAAO,EAAEP;QAAK,CAAE;QAC7BF,aAAa,EAAEA;;KAElB;IAED,MAAMU,GAAG,GAAG,MAAM,IAAI,CAACf,WAAW,CAACgB,OAAO,EAAE;IAC5C,OAAO,MAAMD,GAAG,CAACE,eAAe,CAACL,GAAG,CAAC;EACvC;;AA9CFM","names":["StartImportCommand","constructor","apiProvider","namespace","run","uri","errorMode","integrationId","errors_1","error","db_data_1","Continue","toLowerCase","Abort","req","startImportRequest","onError","api","provide","startBulkImport","exports"],"sourceRoot":"","sources":["../../../src/data/bulk/startImport.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}