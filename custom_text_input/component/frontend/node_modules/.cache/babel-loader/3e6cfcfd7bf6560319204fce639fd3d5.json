{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stringify = stringify;\nconst utils_1 = require(\"./utils.js\");\nconst formats_1 = require(\"./formats.js\");\nconst values_1 = require(\"../utils/values.js\");\nconst array_prefix_generators = {\n  brackets(prefix) {\n    return String(prefix) + '[]';\n  },\n  comma: 'comma',\n  indices(prefix, key) {\n    return String(prefix) + '[' + key + ']';\n  },\n  repeat(prefix) {\n    return String(prefix);\n  }\n};\nconst push_to_array = function (arr, value_or_array) {\n  Array.prototype.push.apply(arr, (0, values_1.isArray)(value_or_array) ? value_or_array : [value_or_array]);\n};\nlet toISOString;\nconst defaults = {\n  addQueryPrefix: false,\n  allowDots: false,\n  allowEmptyArrays: false,\n  arrayFormat: 'indices',\n  charset: 'utf-8',\n  charsetSentinel: false,\n  delimiter: '&',\n  encode: true,\n  encodeDotInKeys: false,\n  encoder: utils_1.encode,\n  encodeValuesOnly: false,\n  format: formats_1.default_format,\n  formatter: formats_1.default_formatter,\n  /** @deprecated */\n  indices: false,\n  serializeDate(date) {\n    var _toISOString;\n    return ((_toISOString = toISOString) !== null && _toISOString !== void 0 ? _toISOString : toISOString = Function.prototype.call.bind(Date.prototype.toISOString))(date);\n  },\n  skipNulls: false,\n  strictNullHandling: false\n};\nfunction is_non_nullish_primitive(v) {\n  return typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean' || typeof v === 'symbol' || typeof v === 'bigint';\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n  let obj = object;\n  let tmp_sc = sideChannel;\n  let step = 0;\n  let find_flag = false;\n  while ((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag) {\n    // Where object last appeared in the ref tree\n    const pos = tmp_sc.get(object);\n    step += 1;\n    if (typeof pos !== 'undefined') {\n      if (pos === step) {\n        throw new RangeError('Cyclic object value');\n      } else {\n        find_flag = true; // Break while\n      }\n    }\n\n    if (typeof tmp_sc.get(sentinel) === 'undefined') {\n      step = 0;\n    }\n  }\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = serializeDate === null || serializeDate === void 0 ? void 0 : serializeDate(obj);\n  } else if (generateArrayPrefix === 'comma' && (0, values_1.isArray)(obj)) {\n    obj = (0, utils_1.maybe_map)(obj, function (value) {\n      if (value instanceof Date) {\n        return serializeDate === null || serializeDate === void 0 ? void 0 : serializeDate(value);\n      }\n      return value;\n    });\n  }\n  if (obj === null) {\n    if (strictNullHandling) {\n      return encoder && !encodeValuesOnly ?\n      // @ts-expect-error\n      encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n    }\n    obj = '';\n  }\n  if (is_non_nullish_primitive(obj) || (0, utils_1.is_buffer)(obj)) {\n    if (encoder) {\n      const key_value = encodeValuesOnly ? prefix\n      // @ts-expect-error\n      : encoder(prefix, defaults.encoder, charset, 'key', format);\n      return [(formatter === null || formatter === void 0 ? void 0 : formatter(key_value)) + '=' + ( // @ts-expect-error\n      formatter === null || formatter === void 0 ? void 0 : formatter(encoder(obj, defaults.encoder, charset, 'value', format)))];\n    }\n    return [(formatter === null || formatter === void 0 ? void 0 : formatter(prefix)) + '=' + (formatter === null || formatter === void 0 ? void 0 : formatter(String(obj)))];\n  }\n  const values = [];\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n  let obj_keys;\n  if (generateArrayPrefix === 'comma' && (0, values_1.isArray)(obj)) {\n    // we need to join elements in\n    if (encodeValuesOnly && encoder) {\n      // @ts-expect-error values only\n      obj = (0, utils_1.maybe_map)(obj, encoder);\n    }\n    obj_keys = [{\n      value: obj.length > 0 ? obj.join(',') || null : void undefined\n    }];\n  } else if ((0, values_1.isArray)(filter)) {\n    obj_keys = filter;\n  } else {\n    const keys = Object.keys(obj);\n    obj_keys = sort ? keys.sort(sort) : keys;\n  }\n  const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n  const adjusted_prefix = commaRoundTrip && (0, values_1.isArray)(obj) && obj.length === 1 ? encoded_prefix + '[]' : encoded_prefix;\n  if (allowEmptyArrays && (0, values_1.isArray)(obj) && obj.length === 0) {\n    return adjusted_prefix + '[]';\n  }\n  for (let j = 0; j < obj_keys.length; ++j) {\n    const key = obj_keys[j];\n    const value =\n    // @ts-ignore\n    typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n    if (skipNulls && value === null) {\n      continue;\n    }\n    // @ts-ignore\n    const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n    const key_prefix = (0, values_1.isArray)(obj) ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? '.' + encoded_key : '[' + encoded_key + ']');\n    sideChannel.set(object, step);\n    const valueSideChannel = new WeakMap();\n    valueSideChannel.set(sentinel, sideChannel);\n    push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys,\n    // @ts-ignore\n    generateArrayPrefix === 'comma' && encodeValuesOnly && (0, values_1.isArray)(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n  }\n  return values;\n}\nfunction normalize_stringify_options() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults;\n  if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n    throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n  }\n  if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n    throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n  }\n  if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n  const charset = opts.charset || defaults.charset;\n  if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n    throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n  let format = formats_1.default_format;\n  if (typeof opts.format !== 'undefined') {\n    if (!(0, utils_1.has)(formats_1.formatters, opts.format)) {\n      throw new TypeError('Unknown format option provided.');\n    }\n    format = opts.format;\n  }\n  const formatter = formats_1.formatters[format];\n  let filter = defaults.filter;\n  if (typeof opts.filter === 'function' || (0, values_1.isArray)(opts.filter)) {\n    filter = opts.filter;\n  }\n  let arrayFormat;\n  if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n    arrayFormat = opts.arrayFormat;\n  } else if ('indices' in opts) {\n    arrayFormat = opts.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = defaults.arrayFormat;\n  }\n  if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n    throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n  }\n  const allowDots = typeof opts.allowDots === 'undefined' ? !!opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n  return {\n    addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n    // @ts-ignore\n    allowDots: allowDots,\n    allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n    arrayFormat: arrayFormat,\n    charset: charset,\n    charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n    commaRoundTrip: !!opts.commaRoundTrip,\n    delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n    encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n    encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n    encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n    encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n    filter: filter,\n    format: format,\n    formatter: formatter,\n    serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n    skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n    // @ts-ignore\n    sort: typeof opts.sort === 'function' ? opts.sort : null,\n    strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n  };\n}\nfunction stringify(object) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let obj = object;\n  const options = normalize_stringify_options(opts);\n  let obj_keys;\n  let filter;\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if ((0, values_1.isArray)(options.filter)) {\n    filter = options.filter;\n    obj_keys = filter;\n  }\n  const keys = [];\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n  const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n  const commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n  if (!obj_keys) {\n    obj_keys = Object.keys(obj);\n  }\n  if (options.sort) {\n    obj_keys.sort(options.sort);\n  }\n  const sideChannel = new WeakMap();\n  for (let i = 0; i < obj_keys.length; ++i) {\n    const key = obj_keys[i];\n    if (options.skipNulls && obj[key] === null) {\n      continue;\n    }\n    push_to_array(keys, inner_stringify(obj[key], key,\n    // @ts-expect-error\n    generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n  }\n  const joined = keys.join(options.delimiter);\n  let prefix = options.addQueryPrefix === true ? '?' : '';\n  if (options.charsetSentinel) {\n    if (options.charset === 'iso-8859-1') {\n      // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n      prefix += 'utf8=%26%2310003%3B&';\n    } else {\n      // encodeURIComponent('✓')\n      prefix += 'utf8=%E2%9C%93&';\n    }\n  }\n  return joined.length > 0 ? prefix + joined : '';\n}","map":{"version":3,"mappings":"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","names":["exports","array_prefix_generators","brackets","prefix","String","comma","indices","key","repeat","push_to_array","arr","value_or_array","Array","prototype","push","apply","toISOString","defaults","addQueryPrefix","allowDots","allowEmptyArrays","arrayFormat","charset","charsetSentinel","delimiter","encode","encodeDotInKeys","encoder","utils_1","encodeValuesOnly","format","formats_1","formatter","serializeDate","date","Function","call","bind","Date","skipNulls","strictNullHandling","is_non_nullish_primitive","v","sentinel","inner_stringify","object","generateArrayPrefix","commaRoundTrip","filter","sort","sideChannel","obj","tmp_sc","step","find_flag","get","undefined","pos","RangeError","value","key_value","values","obj_keys","length","join","keys","Object","encoded_prefix","replace","adjusted_prefix","j","encoded_key","key_prefix","set","valueSideChannel","WeakMap","normalize_stringify_options","opts","TypeError","stringify","options","i","joined"],"sourceRoot":"","sources":["../../src/internal/qs/stringify.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}